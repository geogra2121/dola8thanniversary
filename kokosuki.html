<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>ドーラ様8周年記念サイト</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="ドーラ様の活動8周年記念サイトになります。">
  <link rel="stylesheet" href="css/style.css">
  <!--↓自作↓-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ドーラ様の衣装のここが好き</title>
  <!--↑自作↑-->
</head>
<!--↓自作↓-->
<style>
body {
  margin: 0;
  font-family: sans-serif;
}

/* サムネイル */
#thumbnail-bar {
  display: flex;
  gap: 10px;
  padding: 10px;
  border-bottom: 1px solid #ccc;
  position: sticky;
  top: 0;
  background: #fff;
}

#thumbnail-bar img {
  width: 70px;
  cursor: pointer;
}

/* セクション */
.section {
  display: flex;
  padding: 40px;
  border-bottom: 1px solid #ddd;
}

.image-wrapper {
  width: 50%;
  position: relative;
}

.image-wrapper img {
  width: 100%;
}

.annotation {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.comments {
  width: 50%;
  padding-left: 20px;
}

.comment {
  margin-bottom: 10px;
}
</style>
<!--↑自作↑-->

<body>
  <header>
    <h1 id="logo">
      <img src="images/logo.png" alt="ドーラ様8周年記念サイト">
      <span>
      </span>
    </h1>
    <!--開閉ブロック-->
    <div id="menubar">
      <nav>
        <ul>
          <li>
            <a href="index.html">Home</a>
          </li>
          <li>
            <a href="kokosuki.html">ドーラ様の衣装のここが好き</a>
          </li>
          <li>
            <a href="littlelife.html">全国の小さき命</a>
          </li>
          <li>
            <a href="dolasecret.html">ドレイクのひみつ</a>
          </li>
          <li>
            <a href="dolabutton.html">ドーラ様の配信切り抜きランダム再生ボタン</a>
          </li>
        </ul>
      </nav>
      <ul class="icons">
        <li>
          <a href="#">
            <i class="fa-brands fa-x-twitter"></i>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fab fa-line"></i>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fab fa-youtube"></i>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fab fa-instagram"></i>
          </a>
        </li>
      </ul>
    </div>
    <!--/#menubar-->
  </header>
  <main>
    <!--↓自作↓-->
<div id="thumbnail-bar"></div>
<div id="content"></div>
    <!--↑自作↑-->
  </main>
  <footer>
    <small>Copyright©
      <a href="index.html">DOLA_fanevent</a>All Rights Reserved.</small>
    <span class="pr">
      <a href="https://template-party.com/" target="_blank">《Web Design:Template-Party》</a>
    </span>
  </footer>
  <!--ページの上部へ戻るボタン-->
  <div class="pagetop">
    <a href="#">
      <i class="fas fa-angle-double-up"></i>
    </a>
  </div>
  <!--開閉ボタン（ハンバーガーアイコン）-->
  <div id="menubar_hdr">
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
  </div>
  <!--jQueryの読み込み-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!--lightbox用jsファイルの読み込み-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.10.0/js/lightbox-plus-jquery.min.js"></script>
  <!--このテンプレート専用のスクリプト-->
  <script src="js/main.js"></script>
  <!--↓自作↓-->
<script>
const GAS_URL = "https://script.google.com/macros/s/AKfycbwmZXpP17JE9Zam3Et5eZa4-M7m7xZkYnNYr4VPp2Ym2T8bjm1LHLFCs48fdtaVUovv/exec";

fetch(GAS_URL)
  .then(res => res.json())
  .then(sections => {

    const thumbBar = document.getElementById("thumbnail-bar");
    const content = document.getElementById("content");

    sections.forEach(section => {

      // サムネイル
      const thumb = document.createElement("img");
      thumb.src = section.image;
      thumb.onclick = () =>
        document.getElementById(section.id)
          .scrollIntoView({ behavior: "smooth" });
      thumbBar.appendChild(thumb);

      // セクション
      const sec = document.createElement("div");
      sec.className = "section";
      sec.id = section.id;

      const imageHtml = `
        <div class="image-wrapper">
          <img src="${section.image}">
          <svg class="annotation" viewBox="0 0 100 100" preserveAspectRatio="none">
            ${section.comments.map(c => `
              <polyline
                points="${c.x},${c.y} 85,${c.y}"
                stroke="red"
                stroke-width="2"
                fill="none" />
            `).join("")}
          </svg>
        </div>
      `;

      const commentsHtml = `
        <div class="comments">
          ${section.comments.map(c =>
            `<div class="comment">${c.text}</div>`
          ).join("")}
        </div>
      `;

      sec.innerHTML = imageHtml + commentsHtml;
      content.appendChild(sec);
    });
  });
</script>
  <!--↑自作↑-->
</body>

</html>